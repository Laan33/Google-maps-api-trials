import{_ as f,a as r,c as d,b as t,w as C,v as g,F as _,f as y,h as b,i as c,t as v,p as k,j as I}from"./index-a28a6519.js";import{g as u,h as p}from"./index.esm2017-efba12bd.js";const x={data(){return{handle:"",comment:"",commentsArray:[],editing:!1,tempValue:null,currentUserID:""}},created(){this.getComments()},methods:{postComment(){let n=this.$loading.show({loader:"dots",container:this.$refs.container,canCancel:!0});const e=u(c);p(e,"postcomment")({handle:this.handle,comment:this.comment}).then(i=>{n.hide(),this.getComments()})},getComments(){let n=this.$loading.show({loader:"dots",container:this.$refs.container,canCancel:!0});const e=u(c);p(e,"getcomments")().then(i=>{console.log(i.data),n.hide(),this.commentsArray=i.data})},deleteComment(n){const e=u(c);p(e,"deletecomment?id="+n)().then(i=>{i.data=="Document successfully deleted"&&this.getComments()})},enableEditing(n){this.tempValue=n,this.editing=!0},disableEditing(){this.tempValue=null,this.editing=!1},save(n){const e=u(c);p(e,"updatecomment?id="+n)({comment:this.tempValue}).then(i=>{this.getComments(),this.editing=!1})},getCurrentUserId(){const n=u(c);p(n,"getCurrentUserId")().then(m=>{console.log(m.data),loader.hide(),this.currentUserID=m.data})}}},h=n=>(k("data-v-7b17ee75"),n=n(),I(),n),U=h(()=>t("h1",null,"Welcome to my new Blog page",-1)),V=h(()=>t("p",null,"This is my very first blog entry",-1)),w={class:"container mt-5"},D={class:"mb-3"},E=h(()=>t("label",{for:"exampleFormControlInput1",class:"form-label"},"Email address",-1)),F={class:"mb-3"},B=h(()=>t("label",{for:"exampleFormControlTextarea1",class:"form-label"},"Comment",-1)),S={class:"mb-3 right"},A={class:"mb-3 right"},T={key:0},N={key:0},j=["onClick"],G={key:1},L=["onClick"],M=["onClick"];function P(n,e,m,i,s,l){return r(),d(_,null,[U,V,t("div",w,[t("div",D,[E,C(t("input",{type:"email",class:"form-control","onUpdate:modelValue":e[0]||(e[0]=o=>s.handle=o),id:"exampleFormControlInput1",placeholder:"name@example.com"},null,512),[[g,s.handle]])]),t("div",F,[B,C(t("textarea",{class:"form-control","onUpdate:modelValue":e[1]||(e[1]=o=>s.comment=o),id:"exampleFormControlTextarea1",rows:"3"},null,512),[[g,s.comment]])]),t("div",S,[t("button",{type:"button",onClick:e[2]||(e[2]=(...o)=>l.postComment&&l.postComment(...o)),class:"btn btn-primary"},"Post Comment")]),t("div",A,[t("button",{type:"button",onClick:e[3]||(e[3]=(...o)=>l.getComments&&l.getComments(...o)),class:"btn btn-primary"},"Show Comments")]),s.commentsArray.length>0?(r(),d("div",T,[t("ul",null,[(r(!0),d(_,null,y(s.commentsArray,o=>(r(),d("li",null,[s.editing?b("",!0):(r(),d("div",N,[t("span",{onClick:a=>l.enableEditing(o.data.comment)},v(o.data.comment),9,j)])),s.editing?(r(),d("div",G,[C(t("input",{"onUpdate:modelValue":e[4]||(e[4]=a=>s.tempValue=a),class:"input"},null,512),[[g,s.tempValue]]),t("button",{onClick:e[5]||(e[5]=(...a)=>l.disableEditing&&l.disableEditing(...a))}," Cancel "),t("button",{onClick:a=>l.save(o.id)}," Save ",8,L)])):b("",!0),t("button",{type:"button",onClick:a=>l.deleteComment(o.id),class:"btn btn-primary"},"Delete Comment",8,M),t("button",{type:"button",onClick:e[6]||(e[6]=a=>n.getUserId(s.currentUserID)),class:"btn btn-primary"},"Get User id")]))),256))])])):b("",!0)])],64)}const z=f(x,[["render",P],["__scopeId","data-v-7b17ee75"]]);export{z as default};
